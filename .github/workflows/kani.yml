name: Kani CI
on:
  push:
  pull_request:
    # Run on merged pull requests
    types: [ closed ]
  workflow_dispatch:
jobs:
  run-kani:
    runs-on: ubuntu-latest
    steps:
      - name: 'Checkout your code.'
        uses: actions/checkout@v5
      
      - name: Install Rust toolchain
        uses: actions-rust-lang/setup-rust-toolchain@2fcdc490d667999e01ddbbf0f2823181beef6b39  # v1.15.0
        with:
          cache: true  # Built-in caching
          # toolchain, components, etc. are specified in rust-toolchain.toml

      - name: Run Kani
        uses: model-checking/kani-github-action@f838096619a707b0f6b2118cf435eaccfa33e51f # v1.1